import java.util.Scanner;

public class Ejer05_prueba {
    public static void main(String []args){
        Scanner in = new Scanner(System.in);
        int n;
        // Hacer un do para ejecutar que introduzca un valor entre 3 i 11 i un if para poner el valor i un else para poner un 2 a n
        do {
            System.out.printf("Introduce un numero para el cuadrado màgico que sea senar entre (%d i %d): ", 3, 11);
            if (in.hasNextInt()) {
                n = in.nextInt();
            }
            else {
                n = 2;
            }
            in.nextLine();
        } while (n % 2 == 0 || n < 3 || n > 11); // comprovamos con un while que el residuo entre n i 2 es igual a 0 para que se repita el do si no es senar i que no sea mas pequeño que 3 o mas grande que 11 
        int [][] cuadrado = new int[n] [n]; // añadimos la matriz con dos n
        // Lo rellenamos de ceros
        //metemos los valores con dos for i que verifique con un % si es par o impar para no salirse
        int i, j,num,fil,col;
        fil = 0;
        col = n/2;
        num = 1;
        System.out.println("ini "+num+": "+ fil + " i " + col);
        for (i = 1; i <= n; i++) {
        for (j = 1; j <= n; j++) {
        cuadrado[fil][col] = num;
        fil = (fil - 1 + n) % n;
        col = (col + 1) % n;
        num++;
        System.out.println("col "+num+": "+ fil + " i " + col);
        }
        fil = (fil + 2) % n;
        col = (col - 1 + n) % n;
        System.out.println("fil "+num+": "+ fil + " i " + col);
        }
        imprimir(cuadrado);//Lo mostramos por pantalla
        despedida();
    }
    
    
    
    public static void imprimir(int[][] c){
        int fila,columna;
        System.out.println("La teva matriu és: ");
        for (fila = 0; fila < c.length; fila++){
            for (columna = 0; columna < c.length; columna++)
                System.out.printf("%5d",c[fila][columna]);
            System.out.println();
        }
        System.out.println();
    }
    
    public static void despedida (){
        Scanner in = new Scanner(System.in);
        System.out.print("Pulsa ENTER per terminar... ");
        in.nextLine();
    }
}